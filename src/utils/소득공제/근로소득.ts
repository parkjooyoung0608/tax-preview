/**
 * 근로소득공제 계산 함수
 *
 * 총 급여액(비과세 제외)을 기준으로 근로소득공제 금액을 계산합니다.
 * 공제액은 급여 구간별로 정해진 비율에 따라 산출되며, 최대 20,000,000원 한도가 적용됩니다.
 *
 * @param {number} 총급여액 - 비과세를 제외한 총 급여액
 * @returns {number} 근로소득공제 금액
 *
 */
export default function 근로소득공제(총급여액: number) {
  let 공제액 = 0;

  if (총급여액 <= 5_000_000) {
    // 500만원 이하
    공제액 = 총급여액 * 0.7;
  } else if (총급여액 <= 15_000_000) {
    // 500만원 초과 ~ 1,500만원 이하
    공제액 = 3_500_000 + (총급여액 - 5_000_000) * 0.4;
  } else if (총급여액 <= 45_000_000) {
    // 1,500만원 초과 ~ 4,500만원 이하
    공제액 = 7_500_000 + (총급여액 - 15_000_000) * 0.15;
  } else if (총급여액 <= 100_000_000) {
    // 4,500만원 초과 ~ 1억원 이하
    공제액 = 12_000_000 + (총급여액 - 45_000_000) * 0.05;
  } else {
    // 1억원 초과
    공제액 = 14_750_000 + (총급여액 - 100_000_000) * 0.02;
  }

  // 공제 한도 2,000만원 적용
  if (공제액 > 20_000_000) {
    공제액 = 20_000_000;
  }

  return 공제액;
}
