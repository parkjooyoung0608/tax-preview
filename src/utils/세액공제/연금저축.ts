/**
 * 연금저축 세액공제
 *
 * [한도 규정]
 * - 연금저축 납입액: 최대 600만원
 * - 연금저축 + IRP + DC 합산: 최대 900만원
 *
 * [공제율]
 * - 총급여 5,500만원 이하: 16.5%
 * - 총급여 5,500만원 초과: 13.2%
 */
export default function 연금저축세액공제(
  연금저축납입액: number,
  IRP_DC_납입액: number,
  총급여: number
): number {
  // 연금저축 한도: 600만 원
  const 연금저축한도적용 = Math.min(연금저축납입액, 6_000_000);

  // 합산 한도: 연금저축 + IRP + DC 최대 900만 원
  const 총납입액 = 연금저축한도적용 + IRP_DC_납입액;
  const 합산한도적용 = Math.min(총납입액, 9_000_000);

  // 총급여에 따른 세액공제율
  const 공제율 = 총급여 <= 55_000_000 ? 0.165 : 0.132;

  return 합산한도적용 * 공제율;
}
