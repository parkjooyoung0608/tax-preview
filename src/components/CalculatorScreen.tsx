import React, { Dispatch, SetStateAction, useEffect, useState } from "react";

// components
import Card from "@components/ui/Card";
import SubCard from "@components/ui/SubCard";
import InputNumber from "@components/InputNumber";
import Header from "@components/Header";
import Footer from "@components/Footer";
import CheckBox from "@components/CheckBox";
import Toggle from "@components/Toggle";
import ComputedDeductionForm from "@components/computedDeduction/Form";
import ComputedDeductionResult from "@components/computedDeduction/Result";
import ComputedDeductionFix from "@components/computedDeduction/Fix";
import TaxResult from "@components/TaxResult";
import Category from "@components/text/Category";
import Result from "@components/text/Result";
import Tag from "@components/Tag";
import AdFitBannerWrapper from "@components/AdFit/BannerWrapper";

// utils
import ê¸°ë‚©ë¶€ì„¸ì•¡ from "@utils/ê¸°ë‚©ë¶€ì„¸ì•¡";
import ê·¼ë¡œì†Œë“ê³µì œ from "@utils/ì†Œë“ê³µì œ/ê·¼ë¡œì†Œë“";
import ì—°ê¸ˆë³´í—˜ë£Œê³µì œ from "@utils/ì†Œë“ê³µì œ/ì—°ê¸ˆë³´í—˜ë£Œ";
import ì£¼íƒì²­ì•½ì†Œë“ê³µì œ from "@utils/ì†Œë“ê³µì œ/ì£¼íƒì²­ì•½";
import ì‚°ì¶œì„¸ì•¡ from "@utils/ì‚°ì¶œì„¸ì•¡";
import ê·¼ë¡œì†Œë“ì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ê·¼ë¡œì†Œë“";
import ì—°ê¸ˆì €ì¶•ì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ì—°ê¸ˆì €ì¶•";
import ì‚¬ëŒ€ë³´í—˜ìë™ê³„ì‚° from "@utils/ì‚¬ëŒ€ë³´í—˜ìë™ê³„ì‚°";
import ë³´í—˜ë£Œì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ë³´í—˜ë£Œ";
import ì˜ë£Œë¹„ì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ì˜ë£Œë¹„";
import êµìœ¡ë¹„ì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/êµìœ¡ë¹„";
import ì¹´ë“œì†Œë“ê³µì œ from "@utils/ì†Œë“ê³µì œ/ì¹´ë“œ";
import ì¤‘ì†Œê¸°ì—…ì·¨ì—…ìì†Œë“ê°ë©´ from "@utils/ì†Œë“ê³µì œ/ì¤‘ì†Œê¸°ì—…ì·¨ì—…ìì†Œë“ê°ë©´";
import ì›”ì„¸ì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ì›”ì„¸";
import ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê¸ˆì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê¸ˆ";
import ì •ì¹˜ê¸°ë¶€ê¸ˆ from "@utils/ì„¸ì•¡ê³µì œ/ì •ì¹˜ê¸°ë¶€ê¸ˆ";
import ì§€ì •ê¸°ë¶€ê¸ˆì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ì§€ì •ê¸°ë¶€ê¸ˆ";
import ì¶œì‚°ì…ì–‘ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ì¶œì‚°ì…ì–‘";
import ìë…€ì„¸ì•¡ê³µì œ from "@utils/ì„¸ì•¡ê³µì œ/ìë…€";
import useSalaryDetail from "@hooks/useSalaryDetail";

// constants & interfaces
import {
  ì´ˆê¸°êµìœ¡ë¹„,
  ì´ˆê¸°ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­,
  ì´ˆê¸°ê¸°ë¶€ê¸ˆ,
  ì´ˆê¸°ë³´í—˜ë£Œ,
  ì´ˆê¸°ì˜ë£Œë¹„,
  ì´ˆê¸°ì¹´ë“œ,
} from "constants/initialValues";
import { Të³´ì¥ì„±ë³´í—˜, Tì˜ë£Œë¹„, Têµìœ¡ë¹„, Tì¹´ë“œ, Tê¸°ë¶€ê¸ˆ } from "@interface";

/**
 * ì—°ë§ì •ì‚° ë¯¸ë¦¬ë³´ê¸° â€” MVP ë‹¨ì¼ íŒŒì¼ React ì•±
 *
 * âš ï¸ ë³¸ ê³„ì‚°ê¸°ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤. ì‹¤ì œ ì„¸ì•¡ì€ êµ­ì„¸ì²­ ê¸°ì¤€ê³¼ íšŒì‚¬ ì›ì²œì§•ìˆ˜ ë‚´ì—­, ì—°ë§ì •ì‚° ê°„ì†Œí™” ìë£Œì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 */
export default function CalculatorScreen() {
  // ì†Œë“ê³µì œ
  const [ì¹´ë“œ, setì¹´ë“œ] = useState<Tì¹´ë“œ>(ì´ˆê¸°ì¹´ë“œ);
  const [ë¶€ì–‘ê°€ì¡±ìˆ˜, setë¶€ì–‘ê°€ì¡±ìˆ˜] = useState<number | undefined>(1);
  const [ì£¼íƒì²­ì•½, setì£¼íƒì²­ì•½] = useState<number | undefined>(undefined);
  // ì„¸ì•¡ê³µì œ
  const [ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©, setì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©] = useState(false);
  const [ê²°í˜¼, setê²°í˜¼] = useState(false);
  const [ì—°ê¸ˆì €ì¶•, setì—°ê¸ˆì €ì¶•] = useState<number | undefined>(undefined);
  const [irpDc, setIrpDc] = useState<number | undefined>(undefined);
  const [ë³´í—˜ë£Œ, setë³´í—˜ë£Œ] = useState<Të³´ì¥ì„±ë³´í—˜>(ì´ˆê¸°ë³´í—˜ë£Œ);
  const [ì˜ë£Œë¹„, setì˜ë£Œë¹„] = useState<Tì˜ë£Œë¹„>(ì´ˆê¸°ì˜ë£Œë¹„);
  const [êµìœ¡ë¹„, setêµìœ¡ë¹„] = useState<Têµìœ¡ë¹„>(ì´ˆê¸°êµìœ¡ë¹„);
  const [ì—°ê°„ì›”ì„¸, setì—°ê°„ì›”ì„¸] = useState<number | undefined>(undefined);
  const [ê¸°ë¶€ê¸ˆ, setê¸°ë¶€ê¸ˆ] = useState<Tê¸°ë¶€ê¸ˆ>(ì´ˆê¸°ê¸°ë¶€ê¸ˆ);
  const [ì¶œì‚°ì…ì–‘, setì¶œì‚°ì…ì–‘] = useState<number | undefined>(undefined);
  const [ìë…€, setìë…€] = useState<number | undefined>(undefined);
  // ê¸‰ì—¬ê´€ë ¨
  const { ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­, setê¸‰ì—¬ì„¸ë¶€ë‚´ì—­, handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­ } =
    useSalaryDetail();

  const ì´ê¸‰ì—¬ = (ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­?.ì—°ë´‰ || 0) - (ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­?.ë¹„ê³¼ì„¸ || 0);
  const ìµœì¢…ê·¼ë¡œì†Œë“ê³µì œ = ê·¼ë¡œì†Œë“ê³µì œ(ì´ê¸‰ì—¬);
  const ìµœì¢…ì—°ê¸ˆë³´í—˜ê³µì œ = ì—°ê¸ˆë³´í—˜ë£Œê³µì œ({
    ì›”êµ­ë¯¼ì—°ê¸ˆ: ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.êµ­ë¯¼ì—°ê¸ˆ || 0,
  });
  const ìµœì¢…ì¸ì ê³µì œ = (ë¶€ì–‘ê°€ì¡±ìˆ˜ || 0) * 1500000;
  const ìµœì¢…ì£¼íƒì²­ì•½ê³µì œ = ì£¼íƒì²­ì•½ì†Œë“ê³µì œ(ì£¼íƒì²­ì•½ || 0);
  const ìµœì¢…ì¹´ë“œê³µì œ = ì¹´ë“œì†Œë“ê³µì œ(
    ì´ê¸‰ì—¬,
    ì¹´ë“œ.ì‹ ìš©ì¹´ë“œ || 0,
    ì¹´ë“œ.ì²´í¬ì¹´ë“œ_í˜„ê¸ˆì˜ìˆ˜ì¦ || 0,
    ì¹´ë“œ.ëŒ€ì¤‘êµí†µ || 0,
    ì¹´ë“œ.ì „í†µì‹œì¥ || 0,
    ì¹´ë“œ.ë¬¸í™”ìƒí™œ || 0
  );
  const ìµœì¢…ì¤‘ì†Œê¸°ì—…ì·¨ì—…ìì†Œë“ê°ë©´ = ì¤‘ì†Œê¸°ì—…ì·¨ì—…ìì†Œë“ê°ë©´(ì´ê¸‰ì—¬);
  const ìµœì¢…ì†Œë“ê³µì œ =
    ìµœì¢…ê·¼ë¡œì†Œë“ê³µì œ +
    ìµœì¢…ì—°ê¸ˆë³´í—˜ê³µì œ +
    ìµœì¢…ì¸ì ê³µì œ +
    ìµœì¢…ì£¼íƒì²­ì•½ê³µì œ +
    ìµœì¢…ì¹´ë“œê³µì œ +
    (ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš© ? ìµœì¢…ì¤‘ì†Œê¸°ì—…ì·¨ì—…ìì†Œë“ê°ë©´ : 0);
  const ê³¼ì„¸í‘œì¤€ = ì´ê¸‰ì—¬ - ìµœì¢…ì†Œë“ê³µì œ;
  const ìµœì¢…ì‚°ì¶œì„¸ì•¡ = ì‚°ì¶œì„¸ì•¡(ê³¼ì„¸í‘œì¤€);
  const ìµœì¢…ê·¼ë¡œì†Œë“ì„¸ì•¡ê³µì œ =
    ì´ê¸‰ì—¬ === 0 ? 0 : ê·¼ë¡œì†Œë“ì„¸ì•¡ê³µì œ(ìµœì¢…ì‚°ì¶œì„¸ì•¡);
  const ìµœì¢…ì—°ê¸ˆì €ì¶•ì„¸ì•¡ê³µì œ = ì—°ê¸ˆì €ì¶•ì„¸ì•¡ê³µì œ(
    ì—°ê¸ˆì €ì¶• || 0,
    irpDc || 0,
    ì´ê¸‰ì—¬
  );
  const ìµœì¢…ë³´ì¥ì„±ë³´í—˜ì„¸ì•¡ê³µì œ = ë³´í—˜ë£Œì„¸ì•¡ê³µì œ(
    ë³´í—˜ë£Œ.ë³´ì¥ì„±ë³´í—˜ || 0,
    ë³´í—˜ë£Œ.ì¥ì• ì¸ì „ìš©ë³´ì¥ì„±ë³´í—˜ || 0
  );
  const ìµœì¢…ì˜ë£Œë¹„ì„¸ì•¡ê³µì œ = ì˜ë£Œë¹„ì„¸ì•¡ê³µì œ(
    ì´ê¸‰ì—¬,
    ì˜ë£Œë¹„.ì¼ë°˜ || 0,
    ì˜ë£Œë¹„.ì·¨ì•½ê³„ì¸µ || 0,
    ì˜ë£Œë¹„.ë¯¸ìˆ™ì•„ || 0,
    ì˜ë£Œë¹„.ë‚œì„ || 0,
    ì˜ë£Œë¹„.ì‚°í›„ì¡°ë¦¬ì› || 0
  );
  const ìµœì¢…êµìœ¡ë¹„ì„¸ì•¡ê³µì œ = êµìœ¡ë¹„ì„¸ì•¡ê³µì œ(
    êµìœ¡ë¹„.ë³¸ì¸ || 0,
    êµìœ¡ë¹„.ì•„ë™_ì´ˆ_ì¤‘_ê³ ë“±í•™ìƒ || 0,
    êµìœ¡ë¹„.ëŒ€í•™ìƒ || 0,
    êµìœ¡ë¹„.ì¥ì• ì¸ || 0
  );
  const ìµœì¢…ì›”ì„¸ì•¡ê³µì œ = ì›”ì„¸ì„¸ì•¡ê³µì œ(ì—°ê°„ì›”ì„¸ || 0, ì´ê¸‰ì—¬, 0);
  const ìµœì¢…ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê³µì œ = ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê¸ˆì„¸ì•¡ê³µì œ(ê¸°ë¶€ê¸ˆ.ê³ í–¥ì‚¬ë‘ || 0);
  const ìµœì¢…ì •ì¹˜ê¸°ë¶€ê³µì œ = ì •ì¹˜ê¸°ë¶€ê¸ˆ(ê¸°ë¶€ê¸ˆ.ì •ì¹˜ || 0);
  const ìµœì¢…ì¶œì‚°ì…ì–‘ì„¸ì•¡ê³µì œ = ì¶œì‚°ì…ì–‘ê³µì œ(ì¶œì‚°ì…ì–‘ || 0);
  const ìµœì¢…ìë…€ì„¸ì•¡ê³µì œ = ìë…€ì„¸ì•¡ê³µì œ(ìë…€ || 0);
  const ìµœì¢…ì„¸ì•¡ê³µì œ =
    ìµœì¢…ê·¼ë¡œì†Œë“ì„¸ì•¡ê³µì œ +
    ìµœì¢…ì—°ê¸ˆì €ì¶•ì„¸ì•¡ê³µì œ +
    ìµœì¢…ë³´ì¥ì„±ë³´í—˜ì„¸ì•¡ê³µì œ +
    ìµœì¢…ì˜ë£Œë¹„ì„¸ì•¡ê³µì œ +
    ìµœì¢…êµìœ¡ë¹„ì„¸ì•¡ê³µì œ +
    ìµœì¢…ì›”ì„¸ì•¡ê³µì œ +
    ìµœì¢…ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê³µì œ +
    ìµœì¢…ì •ì¹˜ê¸°ë¶€ê³µì œ +
    ìµœì¢…ì¶œì‚°ì…ì–‘ì„¸ì•¡ê³µì œ +
    ìµœì¢…ìë…€ì„¸ì•¡ê³µì œ +
    (ê²°í˜¼ ? 500_000 : 0);

  const ìµœì¢…ê²°ì •ì„¸ì•¡ = Math.max(0, ìµœì¢…ì‚°ì¶œì„¸ì•¡ - ìµœì¢…ì„¸ì•¡ê³µì œ);
  const ìµœì¢…ê¸°ë‚©ë¶€ì„¸ì•¡ = ê¸°ë‚©ë¶€ì„¸ì•¡({
    ì†Œë“ì„¸: (ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì†Œë“ì„¸ || 0) + (ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì§€ë°©ì†Œë“ì„¸ || 0),
  });

  const ê³ ì •ì†Œë“ê³µì œ = [
    {
      title: "ê·¼ë¡œ ì†Œë“ ê³µì œ",
      amount: ìµœì¢…ê·¼ë¡œì†Œë“ê³µì œ,
      limit: 20000000,
      url: "https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=6592&cntntsId=7871",
    },
    { title: "ì—°ê¸ˆë³´í—˜ë£Œ ì†Œë“ ê³µì œ", amount: ìµœì¢…ì—°ê¸ˆë³´í—˜ê³µì œ },
  ];

  const ê³ ì •ì„¸ì•¡ê³µì œ = [
    { title: "ê·¼ë¡œì†Œë“ ì„¸ì•¡ê³µì œ", amount: ìµœì¢…ê·¼ë¡œì†Œë“ì„¸ì•¡ê³µì œ },
  ];

  const clamp = (v: number, min: number, max: number) =>
    Math.min(max, Math.max(min, v));

  // ìë™ ì œì•ˆ ë²„íŠ¼
  const autofillIns = () => {
    const { êµ­ë¯¼ì—°ê¸ˆ, ê³ ìš©ë³´í—˜ } = ì‚¬ëŒ€ë³´í—˜ìë™ê³„ì‚°(ì´ê¸‰ì—¬);
    setê¸‰ì—¬ì„¸ë¶€ë‚´ì—­((prev) => ({
      ...prev,
      êµ­ë¯¼ì—°ê¸ˆ,
      ê³ ìš©ë³´í—˜,
    }));
  };

  useEffect(() => {
    if (typeof window === "undefined") return;

    const loadState = <T,>(
      key: string,
      setter: Dispatch<SetStateAction<T>>
    ) => {
      const item = localStorage.getItem(key);
      if (
        item === null ||
        item === "undefined" ||
        item === "null" ||
        item === ""
      ) {
        return;
      }

      try {
        setter(JSON.parse(item) as T);
      } catch (e) {
        console.error(`${key} ê°’ íŒŒì‹± ì‹¤íŒ¨:`, e, item);
      }
    };

    loadState("ì¹´ë“œ", setì¹´ë“œ);
    loadState("ë¶€ì–‘ê°€ì¡±ìˆ˜", setë¶€ì–‘ê°€ì¡±ìˆ˜);
    loadState("ì£¼íƒì²­ì•½", setì£¼íƒì²­ì•½);
    loadState("ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©", setì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©);
    loadState("ê²°í˜¼", setê²°í˜¼);
    loadState("ì—°ê¸ˆì €ì¶•", setì—°ê¸ˆì €ì¶•);
    loadState("irpDc", setIrpDc);
    loadState("ë³´í—˜ë£Œ", setë³´í—˜ë£Œ);
    loadState("ì˜ë£Œë¹„", setì˜ë£Œë¹„);
    loadState("êµìœ¡ë¹„", setêµìœ¡ë¹„);
    loadState("ì—°ê°„ì›”ì„¸", setì—°ê°„ì›”ì„¸);
    loadState("ê¸°ë¶€ê¸ˆ", setê¸°ë¶€ê¸ˆ);
    loadState("ì¶œì‚°ì…ì–‘", setì¶œì‚°ì…ì–‘);
    loadState("ìë…€", setìë…€);
  }, []);

  useEffect(() => {
    if (typeof window === "undefined") return;

    // ëª¨ë“  ìƒíƒœë¥¼ localStorageì— ì €ì¥
    localStorage.setItem("ì¹´ë“œ", JSON.stringify(ì¹´ë“œ));
    localStorage.setItem("ë¶€ì–‘ê°€ì¡±ìˆ˜", JSON.stringify(ë¶€ì–‘ê°€ì¡±ìˆ˜));
    localStorage.setItem("ì£¼íƒì²­ì•½", JSON.stringify(ì£¼íƒì²­ì•½));
    localStorage.setItem("ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©", JSON.stringify(ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©));
    localStorage.setItem("ê²°í˜¼", JSON.stringify(ê²°í˜¼));
    localStorage.setItem("ì—°ê¸ˆì €ì¶•", JSON.stringify(ì—°ê¸ˆì €ì¶•));
    localStorage.setItem("irpDc", JSON.stringify(irpDc));
    localStorage.setItem("ë³´í—˜ë£Œ", JSON.stringify(ë³´í—˜ë£Œ));
    localStorage.setItem("ì˜ë£Œë¹„", JSON.stringify(ì˜ë£Œë¹„));
    localStorage.setItem("êµìœ¡ë¹„", JSON.stringify(êµìœ¡ë¹„));
    localStorage.setItem("ì—°ê°„ì›”ì„¸", JSON.stringify(ì—°ê°„ì›”ì„¸));
    localStorage.setItem("ê¸°ë¶€ê¸ˆ", JSON.stringify(ê¸°ë¶€ê¸ˆ));
    localStorage.setItem("ì¶œì‚°ì…ì–‘", JSON.stringify(ì¶œì‚°ì…ì–‘));
    localStorage.setItem("ìë…€", JSON.stringify(ìë…€));
  }, [
    ì¹´ë“œ,
    ë¶€ì–‘ê°€ì¡±ìˆ˜,
    ì£¼íƒì²­ì•½,
    ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©,
    ê²°í˜¼,
    ì—°ê¸ˆì €ì¶•,
    irpDc,
    ë³´í—˜ë£Œ,
    ì˜ë£Œë¹„,
    êµìœ¡ë¹„,
    ì—°ê°„ì›”ì„¸,
    ê¸°ë¶€ê¸ˆ,
    ì¶œì‚°ì…ì–‘,
    ìë…€,
  ]);

  const resetSalaryDetail = () => {
    if (typeof window !== "undefined") {
      const keys = [
        "ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­",
        "ì¹´ë“œ",
        "ë¶€ì–‘ê°€ì¡±ìˆ˜",
        "ì£¼íƒì²­ì•½",
        "ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©",
        "ê²°í˜¼",
        "ì—°ê¸ˆì €ì¶•",
        "irpDc",
        "ë³´í—˜ë£Œ",
        "ì˜ë£Œë¹„",
        "êµìœ¡ë¹„",
        "ì—°ê°„ì›”ì„¸",
        "ê¸°ë¶€ê¸ˆ",
        "ì¶œì‚°ì…ì–‘",
        "ìë…€",
      ];
      keys.forEach((key) => localStorage.removeItem(key));

      setê¸‰ì—¬ì„¸ë¶€ë‚´ì—­(ì´ˆê¸°ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­);
      setì¹´ë“œ(ì´ˆê¸°ì¹´ë“œ);
      setë¶€ì–‘ê°€ì¡±ìˆ˜(1);
      setì£¼íƒì²­ì•½(undefined);
      setì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©(false);
      setê²°í˜¼(false);
      setì—°ê¸ˆì €ì¶•(undefined);
      setIrpDc(undefined);
      setë³´í—˜ë£Œ(ì´ˆê¸°ë³´í—˜ë£Œ);
      setì˜ë£Œë¹„(ì´ˆê¸°ì˜ë£Œë¹„);
      setêµìœ¡ë¹„(ì´ˆê¸°êµìœ¡ë¹„);
      setì—°ê°„ì›”ì„¸(undefined);
      setê¸°ë¶€ê¸ˆ(ì´ˆê¸°ê¸°ë¶€ê¸ˆ);
      setì¶œì‚°ì…ì–‘(undefined);
      setìë…€(undefined);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 text-gray-900">
      <Header onClickReset={resetSalaryDetail} />

      <main className="max-w-5xl mx-auto px-4 py-6 grid gap-6">
        {/* ê²°ê³¼ ì„¹ì…˜ */}
        {Number(String(ìµœì¢…ê¸°ë‚©ë¶€ì„¸ì•¡).replace(/,/g, "")) > 0 && (
          <TaxResult
            ì°¨ê°ì§•ìˆ˜ì•¡={
              ìµœì¢…ê²°ì •ì„¸ì•¡ - Number(String(ìµœì¢…ê¸°ë‚©ë¶€ì„¸ì•¡).replace(/,/g, ""))
            }
            ìµœì¢…ê²°ì •ì„¸ì•¡={ìµœì¢…ê²°ì •ì„¸ì•¡}
            ìµœì¢…ê¸°ë‚©ë¶€ì„¸ì•¡={ìµœì¢…ê¸°ë‚©ë¶€ì„¸ì•¡}
          />
        )}

        <section className="grid md:grid-cols-1 gap-6">
          {/* ê¸‰ì—¬ ì…ë ¥ í•„ë“œ */}
          <Card>
            <section className="mb-6">
              <Category
                title="ê¸°ë‚©ë¶€ì„¸ì•¡"
                tooltipContent={`ì›ì²œì§•ìˆ˜ë¡œ ì›”ê¸‰ì„ ë°›ìœ¼ë©´ì„œ ë¯¸ë¦¬ ë–¼ê°„ ì„¸ê¸ˆì„ ë§í•´ìš”.
                ì—°ë§ ì •ì‚° ì‹œ ìµœëŒ€ë¡œ ëŒë ¤ë°›ì„ ìˆ˜ ìˆëŠ” ê¸ˆì•¡ì„ ëœ»í•˜ê¸°ë„í•´ìš”!
              ğŸ’¡ ì•„ë˜ ë‚´ìš©ì€ ê¸‰ì—¬ëª…ì„¸ì„œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.
              `}
              />

              <Result
                amount={ìµœì¢…ê¸°ë‚©ë¶€ì„¸ì•¡}
                message="ì€ ìµœëŒ€ë¡œ ëŒë ¤ë°›ì„ ìˆ˜ ìˆëŠ” ê¸ˆì•¡ì´ì—ìš”."
              />
            </section>
            <section>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
                <InputNumber
                  label="ì´ê¸‰ì—¬(ì—°)"
                  placeholder="ì—°ê°„ ì´ ê¸‰ì—¬ì•¡ì„ ì…ë ¥í•©ë‹ˆë‹¤."
                  value={ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì—°ë´‰}
                  onChange={(value) => handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­("ì—°ë´‰", value)}
                  hint="ìƒì—¬ê¸ˆì„ í¬í•¨í•©ë‹ˆë‹¤."
                />

                <InputNumber
                  label="ë¹„ê³¼ì„¸ ì†Œë“(ì—°)"
                  placeholder="ì—°ê°„ ì´ ë¹„ê³¼ì„¸ ì†Œë“ì„ ì…ë ¥í•©ë‹ˆë‹¤."
                  value={ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ë¹„ê³¼ì„¸}
                  onChange={(value) => handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­("ë¹„ê³¼ì„¸", value)}
                  hint="ì‹ëŒ€ë¥¼ í¬í•¨í•©ë‹ˆë‹¤."
                />
              </div>
              <div>
                <div className="flex items-center justify-end">
                  <button
                    onClick={autofillIns}
                    disabled={!ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì—°ë´‰ || ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì—°ë´‰ === 0}
                    className={`px-2 py-1 rounded-lg border text-xs
    ${
      !ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì—°ë´‰ || ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì—°ë´‰ === 0
        ? "border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"
        : "border-gray-300 hover:bg-gray-100"
    }`}
                  >
                    ìë™ ì±„ìš°ê¸°
                  </button>
                </div>
                <div className="grid  grid-cols-1 md:grid-cols-2 gap-3">
                  {/* í•œë‹¬ ì…ë ¥í•˜ë©´ ìë™ê³„ì‚° vs ë§¤ë‹¬ ë‹¤ë¥´ê²Œ ì…ë ¥ ê°€ëŠ¥ */}
                  <InputNumber
                    label="êµ­ë¯¼ì—°ê¸ˆ(ì›”)"
                    placeholder="ì›” êµ­ë¯¼ì—°ê¸ˆì„ ì…ë ¥í•©ë‹ˆë‹¤."
                    value={ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.êµ­ë¯¼ì—°ê¸ˆ}
                    onChange={(value) => handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­("êµ­ë¯¼ì—°ê¸ˆ", value)}
                  />
                  <InputNumber
                    label="ê³ ìš©ë³´í—˜(ì›”)"
                    placeholder="ì›” ê³ ìš©ë³´í—˜ì„ ì…ë ¥í•©ë‹ˆë‹¤."
                    value={ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ê³ ìš©ë³´í—˜}
                    onChange={(value) => handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­("ê³ ìš©ë³´í—˜", value)}
                  />
                  <InputNumber
                    label="ì†Œë“ì„¸(ì›”)"
                    placeholder="ì›” ì†Œë“ì„¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤."
                    value={ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì†Œë“ì„¸}
                    onChange={(value) => handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­("ì†Œë“ì„¸", value)}
                  />
                  <InputNumber
                    label="ì§€ë°©ì†Œë“ì„¸(ì›”)"
                    placeholder="ì›” ì§€ë°©ì†Œë“ì„¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤."
                    value={ê¸‰ì—¬ì„¸ë¶€ë‚´ì—­.ì§€ë°©ì†Œë“ì„¸}
                    onChange={(value) =>
                      handleê¸‰ì—¬ì„¸ë¶€ë‚´ì—­("ì§€ë°©ì†Œë“ì„¸", value)
                    }
                  />
                </div>
              </div>
            </section>
          </Card>

          {/* ì†Œë“ê³µì œ : ì´ ê³µì œ ê¸ˆì•¡ í•©ê³„ ê³„ì‚°  */}
          <Card>
            <ComputedDeductionResult
              title="ì†Œë“ ê³µì œ"
              tooltipContent={`ì†Œë“ ê³µì œëŠ” ë‚´ ì†Œë“ì„ ê¹ì•„ì£¼ëŠ” ê±°ì—ìš”.
                ë‚˜ì˜ ê³¼ì„¸í‘œì¤€(ì´ê¸‰ì—¬-ì†Œë“ê³µì œ)ì„ ê³„ì‚°í•  ë•Œ ì‚¬ìš©ë¼ìš”.`}
              amount={ìµœì¢…ì†Œë“ê³µì œ}
              message="ì†Œë“ê³µì œë¥¼ ë°›ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë¼ìš”ğŸ¥³"
              limit={25_000_000}
            />

            <SubCard>
              {/* ê³ ì • ê³µì œ ì „ì²´ ì¹´ë“œ */}
              <ComputedDeductionFix items={ê³ ì •ì†Œë“ê³µì œ} />

              <section className="grid grid-cols-1 gap-6">
                <Tag title="ìœ ë™" />
                {/* ì¤‘ì†Œê¸°ì—… ì·¨ì—…ì ì†Œë“ì„¸ ê°ë©´ */}
                <CheckBox
                  id="ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©"
                  checked={ì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©}
                  onChange={(e) => setì¤‘ì†Œê¸°ì—…ê°ë©´ì ìš©(e.target.checked)}
                  amount={ì¤‘ì†Œê¸°ì—…ì·¨ì—…ìì†Œë“ê°ë©´(ì´ê¸‰ì—¬)}
                  label="ì¤‘ì†Œê¸°ì—… ì·¨ì—…ì ì†Œë“ì„¸ ê°ë©´ ì ìš©"
                  tooltipContent={`ì¡°ê±´:
- 15ì„¸~34ì„¸ ì´í•˜ ê·¼ë¡œì (êµ°ë³µë¬´ ê¸°ê°„ ì œì™¸)
- ê°ë©´ ê¸°ê°„: 5ë…„
- ê°ë©´ìœ¨: 90%
- ì—°ê°„ ìµœëŒ€ 200ë§Œì› í•œë„

ì‹ ì²­ ë°©ë²•:
- ê·¼ë¡œì: ì¤‘ì†Œê¸°ì—… ì·¨ì—…ì ì†Œë“ì„¸ ê°ë©´ ì‹ ì²­ì„œë¥¼ íšŒì‚¬ì— ì œì¶œ
- íšŒì‚¬: ì¤‘ì†Œê¸°ì—… ì·¨ì—…ì ì†Œë“ì„¸ ê°ë©´ëª…ì„¸ì„œë¥¼ ì„¸ë¬´ì„œì— ì œì¶œ

ì°¸ê³  ë§í¬:
- https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=40611&cntntsId=239023
`}
                />

                {/* ì¹´ë“œ ì†Œë“ ê³µì œ */}
                <ComputedDeductionForm
                  title="ì¹´ë“œ ì†Œë“ ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ì¹´ë“œê³µì œ}
                  ê³µì œí•œë„={3000000}
                  tooltipContent={`ì´ê¸‰ì—¬ì•¡ì˜ 25% ì´ˆê³¼ ì‚¬ìš©ë¶„ë¶€í„° ê³µì œê°€ ì‹œì‘ë¼ìš”.
- ì‹ ìš©ì¹´ë“œ: 15%
- ì²´í¬ì¹´ë“œ/í˜„ê¸ˆì˜ìˆ˜ì¦: 30%
- ì „í†µì‹œì¥/ëŒ€ì¤‘êµí†µ: 40%
- ë„ì„œÂ·ê³µì—°Â·ë°•ë¬¼ê´€Â·ë¯¸ìˆ ê´€: 30%

â˜‘ï¸ ì œì™¸ í•­ëª© (ê³µì œ ë¶ˆê°€)
ë³´í—˜ë£Œ, ê¸°ë¶€ê¸ˆ, ìë™ì°¨ êµ¬ì…, ë¦¬ìŠ¤ë£Œ, í•´ì™¸ê²°ì œ, ìƒí’ˆê¶Œ,
êµ­ì„¸/ì§€ë°©ì„¸, ê³µê³¼ê¸ˆ, ì›”ì„¸, ë©´ì„¸ë¬¼í’ˆ êµ¬ì…ë¹„ìš© ë“±`}
                >
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <InputNumber
                      label="ì‹ ìš©ì¹´ë“œ ì‚¬ìš©ì•¡"
                      placeholder="ì—°ê°„ ì‹ ìš©ì¹´ë“œ ì‚¬ìš©ì•¡"
                      value={ì¹´ë“œ.ì‹ ìš©ì¹´ë“œ}
                      onChange={(value) =>
                        setì¹´ë“œ((prev) => ({
                          ...prev,
                          ì‹ ìš©ì¹´ë“œ: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ì²´í¬ì¹´ë“œÂ·í˜„ê¸ˆì˜ìˆ˜ì¦"
                      placeholder="ì—°ê°„ ì²´í¬ì¹´ë“œÂ·í˜„ê¸ˆì˜ìˆ˜ì¦ ì‚¬ìš©ì•¡"
                      value={ì¹´ë“œ.ì²´í¬ì¹´ë“œ_í˜„ê¸ˆì˜ìˆ˜ì¦}
                      onChange={(value) =>
                        setì¹´ë“œ((prev) => ({
                          ...prev,
                          ì²´í¬ì¹´ë“œ_í˜„ê¸ˆì˜ìˆ˜ì¦: value,
                        }))
                      }
                    />
                  </div>
                  <Toggle title="ì¶”ê°€ ê³µì œ">
                    <InputNumber
                      label="ëŒ€ì¤‘êµí†µ ì‚¬ìš©ì•¡"
                      placeholder="ì—°ê°„ ëŒ€ì¤‘êµí†µ ì‚¬ìš©ì•¡"
                      value={ì¹´ë“œ.ëŒ€ì¤‘êµí†µ}
                      onChange={(value) =>
                        setì¹´ë“œ((prev) => ({
                          ...prev,
                          ëŒ€ì¤‘êµí†µ: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ì „í†µì‹œì¥ ì‚¬ìš©ì•¡"
                      placeholder="ì—°ê°„ ì „í†µì‹œì¥ ì‚¬ìš©ì•¡"
                      value={ì¹´ë“œ.ì „í†µì‹œì¥}
                      onChange={(value) =>
                        setì¹´ë“œ((prev) => ({
                          ...prev,
                          ì „í†µì‹œì¥: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ë„ì„œÂ·ê³µì—°Â·ë°•ë¬¼ê´€Â·ë¯¸ìˆ ê´€"
                      placeholder="ì—°ê°„ ë¬¸í™”ìƒí™œ ì‚¬ìš©ì•¡"
                      value={ì¹´ë“œ.ë¬¸í™”ìƒí™œ}
                      onChange={(value) =>
                        setì¹´ë“œ((prev) => ({
                          ...prev,
                          ë¬¸í™”ìƒí™œ: value,
                        }))
                      }
                    />
                  </Toggle>
                </ComputedDeductionForm>

                {/* ì¸ì  ì†Œë“ ê³µì œ */}
                <ComputedDeductionForm
                  title="ì¸ì  ì†Œë“ ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ì¸ì ê³µì œ}
                  tooltipContent={`ë¶€ì–‘ê°€ì¡±ì€ ì†Œë“ì´ ì—†ëŠ” ì‚¬ëŒì„ ëœ»í•©ë‹ˆë‹¤.
                      ë…„ ì†Œë“ì´ 100ë§Œì› ë¯¸ë§Œì´ê±°ë‚˜ ê·¼ë¡œì†Œë“ë§Œ ìˆì„ ê²½ìš° 500ë§Œì› ë¯¸ë§Œì…ë‹ˆë‹¤.
                      
                      [ë‚˜ì´ ì¡°ê±´]
                      - ë³¸ì¸ê³¼ ë°°ìš°ìëŠ” ë‚˜ì´ ìƒê´€ì—†ìŒ
                      - 60ì„¸ ì´ìƒ ë¶€ëª¨
                      - 20ì„¸ ì´í•˜ ìë…€
                      - 20ì„¸ ì´í•˜ 60ì„¸ ì´ìƒ í˜•ì œ ìë§¤`}
                >
                  <InputNumber
                    label="ë¶€ì–‘ê°€ì¡± ìˆ˜(ë³¸ì¸ í¬í•¨)"
                    placeholder="ë³¸ì¸ì„ í¬í•¨í•œ ë¶€ì–‘ê°€ì¡± ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                    value={ë¶€ì–‘ê°€ì¡±ìˆ˜}
                    onChange={(v) =>
                      setë¶€ì–‘ê°€ì¡±ìˆ˜(v !== undefined ? clamp(v, 1, 20) : 0)
                    }
                  />
                </ComputedDeductionForm>

                {/* ì£¼íƒ ì²­ì•½ ì†Œë“ ê³µì œ */}
                {ì´ê¸‰ì—¬ < 70_000_000 && (
                  <ComputedDeductionForm
                    title="ì£¼íƒ ì²­ì•½ ì†Œë“ ê³µì œ"
                    ê³µì œê¸ˆì•¡={ìµœì¢…ì£¼íƒì²­ì•½ê³µì œ}
                    ê³µì œí•œë„={3000000}
                    tooltipContent={`2015ë…„ 1ì›” 1ì¼ ì´í›„ ë‚©ì…í•œ ê²½ìš° ì´ê¸‰ì—¬ì•¡ 7ì²œë§Œì› ì´í•˜ì˜ ê·¼ë¡œì†Œë“ì´ ìˆì–´ì•¼í•´ìš”.
                      ğŸ’¡ë¬´ì£¼íƒ ì„¸ëŒ€ì£¼ ìš”ê±´ì´ í•„ìš”í•´ìš”!
                    `}
                    url="https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=40610&cntntsId=239022"
                  >
                    <InputNumber
                      label="ì£¼íƒ ì²­ì•½(ì—°)"
                      placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ ì£¼íƒì²­ì•½ ë¹„ìš©ì„ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ì£¼íƒì²­ì•½}
                      onChange={setì£¼íƒì²­ì•½}
                    />
                  </ComputedDeductionForm>
                )}
              </section>
            </SubCard>
          </Card>

          {/* ì„¸ì•¡ê³µì œ : ì´ ê³µì œ ê¸ˆì•¡ í•©ê³„ ê³„ì‚°*/}
          <Card>
            <ComputedDeductionResult
              title="ì„¸ì•¡ ê³µì œ"
              tooltipContent="ë‚´ì•¼í•  ì„¸ê¸ˆì„ ê¹ì•„ì£¼ëŠ” ê²ƒì„ ë§í•´ìš”."
              amount={ìµœì¢…ì„¸ì•¡ê³µì œ}
              message="ì„¸ì•¡ê³µì œë¥¼ ë°›ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë¼ìš”ğŸ¥³"
            />

            <SubCard>
              {/* ê³ ì • ê³µì œ ì „ì²´ ì¹´ë“œ */}
              <ComputedDeductionFix items={ê³ ì •ì„¸ì•¡ê³µì œ} />

              <section className="grid grid-cols-1 gap-6">
                <Tag title="ìœ ë™" />
                {/* ê²°í˜¼ ì„¸ì•¡ê³µì œ */}
                <CheckBox
                  id="ê²°í˜¼ì„¸ì•¡ê³µì œ"
                  checked={ê²°í˜¼}
                  onChange={(e) => setê²°í˜¼(e.target.checked)}
                  amount={500000}
                  label="ì´ë²ˆë…„ë„ì— ê²°í˜¼ì„ í•˜ì…¨ë‚˜ìš”?"
                  tooltipContent={`[ì¡°ê±´]
- í˜¼ì¸ì‹ ê³ ë¥¼ í•œ í•´ì— ìƒì•  1íšŒë§Œ ì ìš©ë©ë‹ˆë‹¤
- 2024ë…„~2026ë…„ ì‚¬ì´ì˜ í˜¼ì¸ì‹ ê³ ë§Œ ì ìš©ë©ë‹ˆë‹¤.

[ğŸ’¡ ì¤€ë¹„ ì„œë¥˜]
ì—°ë§ì •ì‚° ì‹œ íšŒì‚¬ì— ì œì¶œí•´ì•¼ í•´ìš”.
- í˜¼ì¸ê´€ê³„ì¦ëª…ì„œ
- ì£¼ë¯¼ë“±ë¡ë“±ë³¸ `}
                />

                {/* ì—°ê¸ˆì €ì¶• */}
                <ComputedDeductionForm
                  title="ì—°ê¸ˆì €ì¶• ì„¸ì•¡ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ì—°ê¸ˆì €ì¶•ì„¸ì•¡ê³µì œ}
                  tooltipContent={`ë‚©ì…í•œë„ëŠ” 600ë§Œì›ì…ë‹ˆë‹¤. \nì´ ê¸‰ì—¬ 5500ë§Œì› ì´í•˜ëŠ” 16.5%, ì´ˆê³¼ëŠ” 13.2% ê³µì œë©ë‹ˆë‹¤.\n âš ï¸ ë§Œ 55ì„¸ ì´í›„ ìˆ˜ë ¹ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì‹ ì¤‘í•˜ê²Œ ë‚©ì…í•´ì•¼í•´ìš”! \n ë§Œ 55ì„¸ ì´ì „ í•´ì§€ ì‹œ ì„¸ì•¡ê³µì œ ê¸ˆì•¡ì„ ë‹¤ì‹œ ë‚©ë¶€í•´ì•¼í•´ìš”.`}
                >
                  <div className="grid  grid-cols-1 md:grid-cols-2 gap-4">
                    <InputNumber
                      label="ì—°ê¸ˆ ì €ì¶•(ì—°)"
                      placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ ì—°ê¸ˆ ì €ì¶•ì„ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ì—°ê¸ˆì €ì¶•}
                      onChange={setì—°ê¸ˆì €ì¶•}
                    />
                    <InputNumber
                      label="IRP+DC(ì—°)"
                      placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ IRP+DCë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={irpDc}
                      onChange={setIrpDc}
                    />
                  </div>
                </ComputedDeductionForm>

                {/* ë³´í—˜ */}
                <ComputedDeductionForm
                  title="ë³´ì¥ì„± ë³´í—˜ ì„¸ì•¡ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ë³´ì¥ì„±ë³´í—˜ì„¸ì•¡ê³µì œ}
                  ê³µì œí•œë„={270000}
                  url="https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?cntntsId=7874"
                  tooltipContent={`ê°„ë‹¨ ê³„ì‚°!\nì›” ë³´í—˜ë£Œ 83,000ì› ì´ìƒ ë‚©ë¶€í•˜ê³  ìˆë‹¤ë©´ ìµœëŒ€ì¹˜ì¸ 120,000ì› ì„¸ì•¡ ê³µì œë¼ìš”.`}
                >
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <InputNumber
                      label="ë³´ì¥ì„±ë³´í—˜(ì—°)"
                      hint="ìµœëŒ€ ê³µì œ í•œë„ 120,000ì›"
                      placeholder="ìƒëª…ë³´í—˜, ìƒí•´ë³´í—˜ ë“±ì˜ ë³´ì¥ì„± ë³´í—˜ë£Œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ë³´í—˜ë£Œ.ë³´ì¥ì„±ë³´í—˜}
                      onChange={(value) =>
                        setë³´í—˜ë£Œ((prev) => ({
                          ...prev,
                          ë³´ì¥ì„±ë³´í—˜: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ì¥ì• ì¸ì „ìš© ë³´ì¥ì„±ë³´í—˜(ì—°)"
                      hint="ìµœëŒ€ ê³µì œ í•œë„ 150,000ì›"
                      placeholder="ì¥ì• ì¸ì„ í”¼ë³´í—˜ì ë˜ëŠ” ìˆ˜ìµìë¡œ í•˜ëŠ” ì¥ì• ì¸ì „ìš© ë³´ì¥ì„±ë³´í—˜ë£Œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ë³´í—˜ë£Œ.ì¥ì• ì¸ì „ìš©ë³´ì¥ì„±ë³´í—˜}
                      onChange={(value) =>
                        setë³´í—˜ë£Œ((prev) => ({
                          ...prev,
                          ì¥ì• ì¸ì „ìš©ë³´ì¥ì„±ë³´í—˜: value,
                        }))
                      }
                    />
                  </div>
                </ComputedDeductionForm>

                {/* ì˜ë£Œë¹„ */}
                <ComputedDeductionForm
                  title="ì˜ë£Œë¹„ ì„¸ì•¡ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ì˜ë£Œë¹„ì„¸ì•¡ê³µì œ}
                  tooltipContent={`ë‚´ê°€ ë‚¸ ì˜ë£Œë¹„ ì¤‘ ì´ê¸‰ì—¬ì˜ 3%ë¥¼ ë„˜ëŠ” ê¸ˆì•¡ë¶€í„° ì„¸ì•¡ê³µì œë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.
- ì¼ë°˜ ì˜ë£Œë¹„: ì—° 700ë§Œì›ê¹Œì§€ 15%
- ë³¸ì¸Â·6ì„¸ ì´í•˜Â·65ì„¸ ì´ìƒÂ·ì¥ì• ì¸: í•œë„ ì—†ìŒ, 15%
- ë¯¸ìˆ™ì•„Â·ì„ ì²œì„±ì´ìƒì•„: í•œë„ ì—†ìŒ, 20%
- ë‚œì„ ì‹œìˆ ë¹„: í•œë„ ì—†ìŒ, 30%
â€» ì‚°í›„ì¡°ë¦¬ì› ë¹„ìš©ì€ ì¶œì‚° 1íšŒë‹¹ 200ë§Œì› í•œë„ë¡œ ê³µì œ ê°€ëŠ¥í•´ìš”.`}
                >
                  <InputNumber
                    label="ì¼ë°˜ ì˜ë£Œë¹„(ì—°)"
                    hint="ì´ê¸‰ì—¬ì•¡ì˜ 3% ì´ˆê³¼ë¶„ë§Œ ì„¸ì•¡ê³µì œ ê°€ëŠ¥, ì—° 700ë§Œì› í•œë„"
                    placeholder="ë³¸ì¸ê³¼ ê°€ì¡±ì„ ìœ„í•´ ì§€ì¶œí•œ ì¼ë°˜ ì˜ë£Œë¹„ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                    value={ì˜ë£Œë¹„.ì¼ë°˜}
                    onChange={(value) =>
                      setì˜ë£Œë¹„((prev) => ({
                        ...prev,
                        ì¼ë°˜: value,
                      }))
                    }
                  />
                  {/* íŠ¹ë³„ ì˜ë£Œë¹„ í† ê¸€ */}
                  <Toggle title="íŠ¹ë³„ ì˜ë£Œë¹„">
                    <InputNumber
                      label="ë³¸ì¸Â·6ì„¸ ì´í•˜Â·65ì„¸ ì´ìƒÂ·ì¥ì• ì¸ ì˜ë£Œë¹„(ì—°)"
                      hint="ì„¸ì•¡ê³µì œ í•œë„ ì—†ìŒ, 15% ê³µì œ"
                      placeholder="í•´ë‹¹ë˜ëŠ” ì˜ë£Œë¹„ ì§€ì¶œì•¡ì„ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ì˜ë£Œë¹„.ì·¨ì•½ê³„ì¸µ}
                      onChange={(value) =>
                        setì˜ë£Œë¹„((prev) => ({
                          ...prev,
                          ì·¨ì•½ê³„ì¸µ: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ë¯¸ìˆ™ì•„Â·ì„ ì²œì„±ì´ìƒì•„ ì˜ë£Œë¹„(ì—°)"
                      hint="ì„¸ì•¡ê³µì œ í•œë„ ì—†ìŒ, 20% ê³µì œ"
                      placeholder="í•´ë‹¹ë˜ëŠ” ì˜ë£Œë¹„ ì§€ì¶œì•¡ì„ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ì˜ë£Œë¹„.ë¯¸ìˆ™ì•„}
                      onChange={(value) =>
                        setì˜ë£Œë¹„((prev) => ({
                          ...prev,
                          ë¯¸ìˆ™ì•„: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ë‚œì„ ì‹œìˆ ë¹„(ì—°)"
                      hint="ì„¸ì•¡ê³µì œ í•œë„ ì—†ìŒ, 30% ê³µì œ"
                      placeholder="ë‚œì„ ì‹œìˆ ì„ ìœ„í•´ ì§€ì¶œí•œ ê¸ˆì•¡ì„ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ì˜ë£Œë¹„.ë‚œì„}
                      onChange={(value) =>
                        setì˜ë£Œë¹„((prev) => ({
                          ...prev,
                          ë‚œì„: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ì‚°í›„ì¡°ë¦¬ì› ë¹„ìš©"
                      hint="ì¶œì‚° 1íšŒë‹¹ 200ë§Œì› í•œë„"
                      placeholder="ì¶œì‚° í›„ ì‚°í›„ì¡°ë¦¬ì› ë¹„ìš©ì„ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={ì˜ë£Œë¹„.ì‚°í›„ì¡°ë¦¬ì›}
                      onChange={(value) =>
                        setì˜ë£Œë¹„((prev) => ({
                          ...prev,
                          ì‚°í›„ì¡°ë¦¬ì›: value,
                        }))
                      }
                    />
                  </Toggle>
                </ComputedDeductionForm>

                {/* êµìœ¡ë¹„ */}
                <ComputedDeductionForm
                  title="êµìœ¡ë¹„ ì„¸ì•¡ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…êµìœ¡ë¹„ì„¸ì•¡ê³µì œ}
                  url="https://help.3o3.co.kr/hc/ko/articles/15023134887321-%ED%95%99%EC%9E%90%EA%B8%88-%EB%8C%80%EC%B6%9C-%EC%97%B0%EB%A7%90%EC%A0%95%EC%82%B0-%EA%B3%B5%EC%A0%9C%EB%B0%9B%EB%8A%94-%EB%B0%A9%EB%B2%95-%EA%B5%90%EC%9C%A1%EB%B9%84-%EA%B3%B5%EC%A0%9C"
                  tooltipContent={`í•™ìê¸ˆëŒ€ì¶œì€ ì „ì•¡ ì„¸ì•¡ ê³µì œë©ë‹ˆë‹¤.\nâš ï¸ìƒí™œë¹„ í•™ìê¸ˆëŒ€ì¶œì€ ë¯¼ê°„ ìê¸ˆ í•™ìê¸ˆëŒ€ì¶œì´ê¸° ë•Œë¬¸ì— ê³µì œë˜ì§€ì•ŠìŠµë‹ˆë‹¤.`}
                >
                  <InputNumber
                    label="ë³¸ì¸"
                    placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ ë³¸ì¸ì˜ êµìœ¡ë¹„ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                    value={êµìœ¡ë¹„.ë³¸ì¸}
                    onChange={(value) =>
                      setêµìœ¡ë¹„((prev) => ({
                        ...prev,
                        ë³¸ì¸: value,
                      }))
                    }
                  />
                  <Toggle title="ê°€ì¡± êµìœ¡ë¹„">
                    <InputNumber
                      label="ì•„ë™Â·ì´ˆÂ·ì¤‘Â·ê³ ë“±í•™ìƒ"
                      hint="1ëª…ë‹¹ 300ë§Œì› í•œë„(ê³µì œìœ¨ 15%)"
                      placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ ì•„ë™Â·ì´ˆÂ·ì¤‘Â·ê³ ë“±í•™ìƒì˜ êµìœ¡ë¹„ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={êµìœ¡ë¹„.ì•„ë™_ì´ˆ_ì¤‘_ê³ ë“±í•™ìƒ}
                      onChange={(value) =>
                        setêµìœ¡ë¹„((prev) => ({
                          ...prev,
                          ì•„ë™_ì´ˆ_ì¤‘_ê³ ë“±í•™ìƒ: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ëŒ€í•™ìƒ (ëŒ€í•™ì›ìƒì€ ê³µì œ ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.)"
                      hint="1ëª…ë‹¹ 900ë§Œì› í•œë„(ê³µì œìœ¨ 15%)"
                      placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ ëŒ€í•™ìƒì˜ êµìœ¡ë¹„ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={êµìœ¡ë¹„.ëŒ€í•™ìƒ}
                      onChange={(value) =>
                        setêµìœ¡ë¹„((prev) => ({
                          ...prev,
                          ëŒ€í•™ìƒ: value,
                        }))
                      }
                    />
                    <InputNumber
                      label="ì¥ì• ì¸ íŠ¹ìˆ˜êµìœ¡ë¹„ (ì§ê³„ì¡´ì† í¬í•¨)"
                      placeholder="1ë…„ë™ì•ˆ ë‚©ë¶€í•œ ì¥ì• ì¸ íŠ¹ìˆ˜êµìœ¡ë¹„ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                      value={êµìœ¡ë¹„.ì¥ì• ì¸}
                      onChange={(value) =>
                        setêµìœ¡ë¹„((prev) => ({
                          ...prev,
                          ì¥ì• ì¸: value,
                        }))
                      }
                    />
                  </Toggle>
                </ComputedDeductionForm>

                {/* ì›”ì„¸ */}
                <ComputedDeductionForm
                  title="ì›”ì„¸ ì„¸ì•¡ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ì›”ì„¸ì•¡ê³µì œ}
                  tooltipContent={`ì—°ê°„ ì›”ì„¸ì•¡ì— ëŒ€í•´ ì„¸ì•¡ê³µì œë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.

[í•œë„]
- ì—° 1,000ë§Œì›ê¹Œì§€ ê³µì œ ê°€ëŠ¥

[ê³µì œìœ¨ ì¡°ê±´]
- ì´ê¸‰ì—¬ 5,500ë§Œì› ì´í•˜ & ì¢…í•©ì†Œë“ê¸ˆì•¡ 4,500ë§Œì› ì´í•˜ â†’ 17%
- ì´ê¸‰ì—¬ 5,500ë§Œì› ì´ˆê³¼ ~ 8,000ë§Œì› ì´í•˜ & ì¢…í•©ì†Œë“ê¸ˆì•¡ 7,000ë§Œì› ì´í•˜ â†’ 15%
- ê·¸ ì™¸ â†’ ê³µì œ ì—†ìŒ

[ğŸ’¡ ì¤€ë¹„ ì„œë¥˜]
ì—°ë§ì •ì‚° ì‹œ íšŒì‚¬ì— ì œì¶œí•´ì•¼ í•´ìš”.
- ì£¼ë¯¼ë“±ë¡í‘œë“±ë³¸
- ì„ëŒ€ì°¨ ê³„ì•½ ì¦ì„œ ì‚¬ë³¸
- ê³„ì¢Œì´ì²´ ì˜ìˆ˜ì¦ ë° ë¬´í†µì¥ì…ê¸ˆì¦ ë“± ì›”ì„¸ì•¡ ì§€ê¸‰ ì¦ë¹™ ì„œë¥˜`}
                >
                  <InputNumber
                    label=""
                    hint="ìµœëŒ€ 1,000ë§Œì›ê¹Œì§€ ê³µì œ ê°€ëŠ¥"
                    placeholder="1ë…„ê°„ ë‚©ë¶€í•œ ì›”ì„¸ ì´ì•¡ì„ ì…ë ¥í•˜ì„¸ìš”."
                    value={ì—°ê°„ì›”ì„¸}
                    onChange={(value) => setì—°ê°„ì›”ì„¸(value)}
                  />
                </ComputedDeductionForm>

                {/* ê¸°ë¶€ê¸ˆ */}
                <ComputedDeductionForm
                  title="ì§€ì •ê¸°ë¶€ê¸ˆ (ì•„ë¦„ë‹¤ìš´ê°€ê²Œ ë“±)"
                  ê³µì œê¸ˆì•¡={ì§€ì •ê¸°ë¶€ê¸ˆì„¸ì•¡ê³µì œ(ê¸°ë¶€ê¸ˆ.ì§€ì • || 0)}
                  tooltipContent={`ì‚¬íšŒë³µì§€ë²•ì¸, ê³µìµë²•ì¸ ë“± ì§€ì •ëœ ê¸°ê´€ì— ê¸°ë¶€í•œ ê¸ˆì•¡ì— ëŒ€í•´ ì„¸ì•¡ê³µì œë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.
- ì„¸ì•¡ê³µì œìœ¨: 15%
- í˜„ê¸ˆ ë˜ëŠ” ë¬¼í’ˆ ê¸°ë¶€ ëª¨ë‘ ê°€ëŠ¥ (í‰ê°€ì•¡ ê¸°ì¤€)`}
                >
                  <InputNumber
                    label=""
                    placeholder="ì˜¬í•´ ë‚©ë¶€í•œ ì§€ì •ê¸°ë¶€ê¸ˆ ì´ì•¡ì„ ì…ë ¥í•˜ì„¸ìš”."
                    hint="ì‚¬íšŒë³µì§€ë²•ì¸, ê³µìµë²•ì¸ ë“±"
                    value={ê¸°ë¶€ê¸ˆ.ì§€ì •}
                    onChange={(value) =>
                      setê¸°ë¶€ê¸ˆ((prev) => ({
                        ...prev,
                        ì§€ì •: value,
                      }))
                    }
                  />
                </ComputedDeductionForm>
                <ComputedDeductionForm
                  title="ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê¸ˆ"
                  ê³µì œê¸ˆì•¡={ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê¸ˆì„¸ì•¡ê³µì œ(ê¸°ë¶€ê¸ˆ.ê³ í–¥ì‚¬ë‘ || 0)}
                  tooltipContent={`ê³ í–¥ì‚¬ë‘eìŒ(ì •ë¶€ ê³µì‹ í”Œë«í¼)ì„ í†µí•´ ê¸°ë¶€í•œ ê¸ˆì•¡ì— ëŒ€í•´ ì„¸ì•¡ê³µì œë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.

                  [ê³µì œìœ¨ ì¡°ê±´]
                  - 10ë§Œì›ê¹Œì§€ ì „ì•¡(100%) ì„¸ì•¡ê³µì œë¼ìš”.
                  - ê¸°ë¶€ì•¡ì˜ 30% ìƒë‹¹ì´ ê¸°ë¶€ í¬ì¸íŠ¸ë¡œ ë“¤ì–´ì™€ìš”.

                  [ì£¼ì˜]
                  - ë³¸ì¸ì˜ ì£¼ë¯¼ë“±ë¡ë“±ë³¸ ìƒ ê±°ì£¼ì§€ë¥¼ ì œì™¸í•œ ì§€ì—­ìì¹˜ë‹¨ì²´ì— ê¸°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                  - ì¦‰, ë‚´ê°€ ì‚´ê³ ìˆì§€ ì•ŠëŠ” ê³³ì—ë§Œ ê¸°ë¶€í•  ìˆ˜ ìˆì–´ìš”.`}
                  url="https://ilovegohyang.go.kr/main.html"
                >
                  <InputNumber
                    label=""
                    hint="10ë§Œì›ê¹Œì§€ 100% ì„¸ì•¡ê³µì œ ê°€ëŠ¥"
                    placeholder="ì˜¬í•´ ë‚©ë¶€í•œ ê³ í–¥ì‚¬ë‘ê¸°ë¶€ê¸ˆ ì´ì•¡ì„ ì…ë ¥í•˜ì„¸ìš”."
                    value={ê¸°ë¶€ê¸ˆ.ê³ í–¥ì‚¬ë‘}
                    onChange={(value) =>
                      setê¸°ë¶€ê¸ˆ((prev) => ({
                        ...prev,
                        ê³ í–¥ì‚¬ë‘: value,
                      }))
                    }
                  />
                </ComputedDeductionForm>
                <ComputedDeductionForm
                  title="ì •ì¹˜ê¸°ë¶€ê¸ˆ"
                  ê³µì œê¸ˆì•¡={ì •ì¹˜ê¸°ë¶€ê¸ˆ(ê¸°ë¶€ê¸ˆ.ì •ì¹˜ || 0)}
                  tooltipContent={`ì •ì¹˜í›„ì›ê¸ˆì„¼í„° ë“±ì„ í†µí•´ ê¸°ë¶€í•œ ì •ì¹˜í›„ì›ê¸ˆì— ëŒ€í•´ ì„¸ì•¡ê³µì œë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.

[ê³µì œìœ¨ ì¡°ê±´]
- 10ë§Œì› ì´í•˜: ê¸°ë¶€ê¸ˆì•¡ì˜ 100/110 (ì•½ 90.9%)
- 10ë§Œì› ì´ˆê³¼ ~ 3,000ë§Œì› ì´í•˜: ì´ˆê³¼ë¶„ì˜ 15%
- 3,000ë§Œì› ì´ˆê³¼ë¶„: 25%
â€» ê·¼ë¡œì†Œë“ê¸ˆì•¡ì˜ 100% í•œë„ ë‚´ì—ì„œë§Œ ê³µì œ ê°€ëŠ¥`}
                >
                  <InputNumber
                    label=""
                    hint="10ë§Œì›ê¹Œì§€ ì•½ 90.9%, ì´ˆê³¼ë¶„ 15~25% ì„¸ì•¡ê³µì œ"
                    placeholder="ì˜¬í•´ ë‚©ë¶€í•œ ì •ì¹˜ê¸°ë¶€ê¸ˆ ì´ì•¡ì„ ì…ë ¥í•˜ì„¸ìš”."
                    value={ê¸°ë¶€ê¸ˆ.ì •ì¹˜}
                    onChange={(value) =>
                      setê¸°ë¶€ê¸ˆ((prev) => ({
                        ...prev,
                        ì •ì¹˜: value,
                      }))
                    }
                  />
                </ComputedDeductionForm>

                {/* ì¶œì‚°/ì…ì–‘ ì„¸ì•¡ê³µì œ */}
                <ComputedDeductionForm
                  title="ì¶œì‚°/ì…ì–‘ ì„¸ì•¡ê³µì œ"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ì¶œì‚°ì…ì–‘ì„¸ì•¡ê³µì œ}
                  tooltipContent={`í•´ë‹¹ ê³¼ì„¸ê¸°ê°„ì— ì¶œì‚°í•˜ê±°ë‚˜ ì…ì–‘ ì‹ ê³ í•œ ê³µì œëŒ€ìƒ ìë…€ê°€ ìˆëŠ” ê²½ìš°ì„ ë§í•©ë‹ˆë‹¤.`}
                >
                  <InputNumber
                    label=""
                    placeholder="ì¶œì‚°í•˜ê±°ë‚˜ ì…ì–‘ ì‹ ê³ í•œ ìë…€ì˜ ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                    value={ì¶œì‚°ì…ì–‘}
                    onChange={(v) => setì¶œì‚°ì…ì–‘(v)}
                  />
                </ComputedDeductionForm>

                {/* ìë…€ ì„¸ì•¡ê³µì œ */}
                <ComputedDeductionForm
                  title="ìë…€ ì„¸ì•¡ê³µì œ (8ì„¸ ì´ìƒ)"
                  ê³µì œê¸ˆì•¡={ìµœì¢…ìë…€ì„¸ì•¡ê³µì œ}
                  url="https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=6596&cntntsId=7875"
                >
                  <InputNumber
                    label=""
                    placeholder="8ì„¸ì´ìƒ ìë…€ì˜ ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."
                    value={ìë…€}
                    onChange={(v) => setìë…€(v)}
                  />
                </ComputedDeductionForm>
              </section>
            </SubCard>
          </Card>
        </section>

        {/* ì°¸ê³ /ë„ì›€ë§ */}
        <section>
          <Card>
            <Category title="ì°¸ê³  ë° ë©´ì±…" />
            <ul className="mt-3 text-sm space-y-2 text-gray-600">
              <li>
                - ë³¸ ë„êµ¬ëŠ” <b>ì°¸ê³ ìš©</b>ì…ë‹ˆë‹¤. ì‹¤ì œ ì—°ë§ì •ì‚°ì€ êµ­ì„¸ì²­ ê³ ì§€ ë°
                íšŒì‚¬ ì›ì²œì§•ìˆ˜ ë‚´ì—­ì„ ë”°ë¦…ë‹ˆë‹¤.
              </li>
              <li>
                - ì„¸ë²•ì€ ë§¤ë…„ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•í•œ ê¸°ì¤€ì€ êµ­ì„¸ì²­ ìë£Œë¥¼
                í™•ì¸í•˜ì„¸ìš”.
              </li>
            </ul>
          </Card>
        </section>
      </main>

      <Footer />

      {/* ê´‘ê³  ë°°ë„ˆ */}
      <AdFitBannerWrapper />
    </div>
  );
}
